{% extends 'usermanagement/doctor/baseDoctor.html' %}

{% load static %}
{% block content %}

<style>
    input{
        width: 30vw;
        border: none;
        border-bottom: solid 1px grey;
        margin-bottom: 7vh;
        transition: ease 0.25s;
        height: 5vh;
    }
    input:active{
        width: 30vw;
        border: none;
        border-bottom: solid 2px rgb(10, 95, 126);
        margin-bottom: 7vh

    }

    select{
        width: 30vw;
        border: none;
        border-bottom: solid 1px grey;
        margin-bottom: 7vh;
        transition: ease 0.25s;
        height: 5vh;

    }
    select:active{
        width: 30vw;
        border: none;
        border-bottom: solid 2px rgb(10, 95, 126);
        margin-bottom: 7vh;
        height: 5vh;
    }

    textarea{
        width: 30vw;
        height: 48vh;
        border-color:rgb(154, 207, 201);
        transition: ease 1s;
    }
     textarea:focus{
        width: 32vw;
        height: 50vh;
        border-color: rgb(16, 33, 36);
    }
</style>

<div style="margin-top: 5vh; width: fit-content;">
    <form method="POST" class="post-form">
        <!--{% csrf_token %}: tag de securite(protection contre les attaques intercept),c'est pour securise notre formulaire django -->
        {% csrf_token %}

        <div style="display: flex; width: 100%;">
            <div style="width: 40vw; margin-left: 4vw;">
                <div>Name</div>
                <div>
                    <select name="idPatient" required="" id="id_idPatient">
                        <option value="" selected="">---------</option>
                        {% for p in patientList %}
                        <option value="{{p.id}}">{{p}}</option>
                        {% endfor %}
                    
                    </select>
                </div>
                <div>ExamDescription</div>
                <div><select name="ExamDescription" required="" id="id_ExamDescription">
                    <option value="" selected="">---------</option>
                
                    <option value="bloodtest">bloodtest</option>
                
                    <option value="Goutte Epaisse">Goutte Epaisse</option>
                
                    <option value="Electrophorese">Electrophorese</option>
                
                    <option value="Covid">Covid</option>
                
                </select></div>
                <div>ExamCost</div>
                <div><input type="text" name="ExamCost" maxlength="23" id="id_ExamCost" readonly=""></div>        
                <input type="submit" class="save btn" value="Save">
            </div>
    
    
            <div style="width: 50%;">
                <div>{{ form.Notes.name }}</div>
                <div><textarea name="Notes" cols="40" rows="10" maxlength="10000" id="id_Notes"></textarea></div>        
            </div>
        </div>
        

        
        <script>
            document.getElementById("id_ExamCost").readOnly = true;
            
            document.getElementById("id_ExamDescription").addEventListener("change",function(){
                if("bloodtest"===document.getElementById("id_ExamDescription").value){
                    document.getElementById("id_ExamCost").value = 5000;
                }else if("Goutte Epaisse"===document.getElementById("id_ExamDescription").value){
                    document.getElementById("id_ExamCost").value = 3000;
                }else if("Electrophorese"===document.getElementById("id_ExamDescription").value){
                    document.getElementById("id_ExamCost").value = 4500;
                }else{
                    document.getElementById("id_ExamCost").value = 2550
                }
            })
        </script>
        
    </form>
</div>

{% endblock %}